<div class="reviews-view">
  <div class="reviews-view__list">
    <h3 class="reviews-view__header">Customer Reviews</h3>
    <div class="reviews-list">
      <ol class="reviews-list__content">
        @for (review of productDetails()?.reviews; track review.comment; let i = $index) {
        <li class="reviews-list__item">
          <div class="review">
            <div class="review__avatar">
              <img [src]="review?.user?.image" alt="" />
            </div>
            <div class="review__content">
              <div class="review__author">
                {{review?.user?.firstname }}
                {{ review?.user?.lastname}}
              </div>
              <div class="review__rating">
                <app-product-rating-bar [star]="review?.star??0" />
              </div>
              <div class="review__text">
                {{review.comment}}
              </div>
              <div class="review__date">{{getFormatedDate(review.createdAt)}}</div>
            </div>
          </div>
        </li>
        }
      </ol>
      <div class="reviews-list__pagination">
        <ul class="pagination justify-content-center">
          <li class="page-item disabled">
            <a class="page-link page-link--with-arrow" href="#" aria-label="Previous"><svg
                class="page-link__arrow page-link__arrow--left" aria-hidden="true" width="8px" height="13px">
                <use xlink:href="images/sprite.svg#arrow-rounded-left-8x13"></use>
              </svg></a>
          </li>
          <li class="page-item">
            <a class="page-link" href="#">1</a>
          </li>
          <li class="page-item active">
            <a class="page-link" href="#">2 <span class="sr-only">(current)</span></a>
          </li>
          <li class="page-item">
            <a class="page-link" href="#">3</a>
          </li>
          <li class="page-item">
            <a class="page-link page-link--with-arrow" href="#" aria-label="Next"><svg
                class="page-link__arrow page-link__arrow--right" aria-hidden="true" width="8px" height="13px">
                <use xlink:href="images/sprite.svg#arrow-rounded-right-8x13"></use>
              </svg></a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <form class="reviews-view__form" [formGroup]="reviewForm" (ngSubmit)="onSubmit()">
    <h3 class="reviews-view__header">Write A Review</h3>
    <div class="row">
      <div class="col-12 col-lg-9 col-xl-8">
        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="review-stars">Review Stars</label>
            <select id="review-stars" class="form-control" formControlName="star">
              <option [value]="5">5 Stars Rating</option>
              <option [value]="4">4 Stars Rating</option>
              <option [value]="3">3 Stars Rating</option>
              <option [value]="2">2 Stars Rating</option>
              <option [value]="1">1 Stars Rating</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label for="review-text">Your Review</label>
          <textarea class="form-control" formControlName="comment" id="review-text" rows="6"></textarea>
        </div>
        <div class="form-group mb-0">
          <button type="submit" class="btn btn-primary btn-lg">
            Post Your Review
          </button>
        </div>
      </div>
    </div>
  </form>
</div>